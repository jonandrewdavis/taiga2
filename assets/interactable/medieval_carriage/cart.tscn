[gd_scene load_steps=11 format=3 uid="uid://brcob4a2vngyt"]

[ext_resource type="PackedScene" uid="uid://bdiwt6qndl0qy" path="res://assets/interactable/medieval_carriage/carriage.gltf" id="1_0i6nf"]
[ext_resource type="Script" path="res://assets/interactable/medieval_carriage/cart.gd" id="1_kp5fv"]
[ext_resource type="Material" uid="uid://c2o1mxvq006x2" path="res://demo_level/gridmap/gridmap_materials/TinyBrick02.tres" id="3_ecar8"]
[ext_resource type="Script" path="res://utility scripts/rope.gd" id="4_rllv7"]

[sub_resource type="BoxShape3D" id="BoxShape3D_nkrui"]
size = Vector3(5.7, 3, 2)

[sub_resource type="BoxMesh" id="BoxMesh_e0i7b"]
size = Vector3(5, 2, 1)

[sub_resource type="SphereShape3D" id="SphereShape3D_ey22n"]

[sub_resource type="SphereShape3D" id="SphereShape3D_8wmav"]

[sub_resource type="SphereShape3D" id="SphereShape3D_8sndc"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_agwma"]
properties/0/path = NodePath(".:replicated_position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:replicated_rotation")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath(".:replicated_linear_velocity")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:replicated_angular_velocity")
properties/3/spawn = true
properties/3/replication_mode = 1

[node name="Cart" type="RigidBody3D"]
mass = 100.0
center_of_mass_mode = 1
center_of_mass = Vector3(0, -1, 0)
script = ExtResource("1_kp5fv")

[node name="CartCam" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.818099, 0.575077, 0, -0.575077, 0.818099, 0, 7.38646, 11.7882)
top_level = true

[node name="CartCenterCast" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.754052, 0)
target_position = Vector3(0, -1.5, 0)
collide_with_areas = true

[node name="Sketchfab_Scene" parent="." instance=ExtResource("1_0i6nf")]

[node name="Sketchfab_model" parent="Sketchfab_Scene" index="0"]
transform = Transform3D(-0.165998, -2.5065e-08, -1.09563e-15, 0, -7.25601e-09, 0.165998, -2.5065e-08, 0.165998, 7.25601e-09, -0.116242, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.35921, 0)
shape = SubResource("BoxShape3D_nkrui")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.06403, 0)
visible = false
mesh = SubResource("BoxMesh_e0i7b")
surface_material_override/0 = ExtResource("3_ecar8")

[node name="InteractionPoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.46442, 0.504702, 0)

[node name="IdleTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="Rope" type="Node3D" parent="." node_paths=PackedStringArray("start_point", "end_point")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.8669, 0, 0)
script = ExtResource("4_rllv7")
start_point = NodePath("Start")
end_point = NodePath("End")
end_is_rigidbody = false
number_of_segments = 8
cable_gravity_amp = 1.0
cable_thickness = 0.05
cable_springiness = 60.0

[node name="End" type="StaticBody3D" parent="Rope"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.97709, 1.34608, 0.083537)
top_level = true
collision_layer = 0
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Rope/End"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.369185, 0, 0)
shape = SubResource("SphereShape3D_ey22n")

[node name="Start" type="StaticBody3D" parent="Rope"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.04824, 1.31004, 0.849606)
collision_layer = 0
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Rope/Start"]
shape = SubResource("SphereShape3D_8wmav")

[node name="StartSecondRope" type="StaticBody3D" parent="Rope"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.08416, 1.30041, -0.845872)
collision_layer = 0
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Rope/StartSecondRope"]
shape = SubResource("SphereShape3D_8sndc")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_agwma")

[node name="Rope2" type="Node3D" parent="." node_paths=PackedStringArray("start_point", "end_point")]
script = ExtResource("4_rllv7")
start_point = NodePath("../Rope/StartSecondRope")
end_point = NodePath("../Rope/End")
end_is_rigidbody = false
number_of_segments = 8
cable_gravity_amp = 1.0
cable_thickness = 0.05
cable_springiness = 60.0

[editable path="Sketchfab_Scene"]
